{"version":3,"sources":["component/Join.js","component/PlayerHook.js","component/Infobar.js","component/Onlineinfo.js","component/Inputbar.js","component/Message.js","component/Messages.js","component/Chat.js","App.js","index.js"],"names":["SignIn","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","e","preventDefault","to","socket","Infobar","Onlineinfo","users","console","log","map","user","i","key","Inputbar","message","setMessage","sendMessage","onKeyPress","Message","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","Chat","PlayerHook","props","videoId","setVideoId","tempId","setTempId","player","setPlayer","timer","setTimer","isset","setIsset","roomUsers","setRoomUsers","setMessages","ENDPOINT","useEffect","queryString","parse","location","search","io","emit","error","alert","on","video_id","time","seekTo","playVideo","sendToAll","match","length","onReady","pauseVideo","onStateChange","getCurrentTime","App","path","exact","component","Join","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.27bf8ce3.chunk.js","sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport './style/Join.css';\r\n\r\nexport default function SignIn() {\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n\r\n  return (\r\n    <div className=\"joinOuterContainer\">\r\n      <div className=\"joinInnerContainer\">\r\n        <h1 className=\"heading\">Schro-Sync</h1>\r\n        <div>\r\n          <input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} />\r\n        </div>\r\n        <div>\r\n          <input placeholder=\"Room\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} />\r\n        </div>\r\n        <Link onClick={e => (!name || !room) ? e.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\r\n          <button className={'button mt-20'} type=\"submit\">Sign In</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport YouTube from 'react-youtube';\r\nimport io from 'socket.io-client';\r\nimport queryString from 'query-string';\r\n\r\nimport Infobar from './Infobar';\r\nimport Onlineinfo from './Onlineinfo';\r\nimport Chat from './Chat';\r\n\r\nimport './style/PlayerHook.css';\r\n\r\n\r\nconst videoIdA = '11BXffQZD0Q';\r\nlet socket;\r\n\r\nconst PlayerHook = (props) =>{\r\n    //console.log(props);\r\n    const[videoId , setVideoId] = useState(videoIdA);\r\n    const[tempId , setTempId]  = useState('');\r\n    const[player , setPlayer] = useState(null);\r\n    const[name , setName] = useState('');\r\n    const[room , setRoom] = useState('');\r\n    const[user , setUser] = useState('');\r\n    const[timer , setTimer] = useState(0);\r\n    const[isset , setIsset] = useState(false);\r\n    const[roomUsers , setRoomUsers] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    const ENDPOINT = 'https://vast-oasis-04951.herokuapp.com/';\r\n\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(props.location.search);\r\n    \r\n        socket = io(ENDPOINT);\r\n    \r\n        setRoom(room);\r\n        setName(name)\r\n    \r\n        socket.emit('join', { name, room }, (error) => {\r\n          if(error) {\r\n            alert(error);\r\n          }\r\n        });\r\n      }, [ENDPOINT, props.location.search]);\r\n\r\n    useEffect(() => {\r\n        socket.on('changedLink',({video_id}) => {\r\n            //console.log(`player in socket ${player}`);\r\n            setVideoId(video_id.video_id);\r\n        })\r\n    });\r\n\r\n    useEffect(() => {\r\n      socket.on('roomData', ({room , users}) => {\r\n        setRoomUsers(users);\r\n      })\r\n    })\r\n    \r\n\r\n    const onReady = (event) => {\r\n        setPlayer(event.target);\r\n        event.target.pauseVideo();\r\n    }\r\n\r\n    useEffect(() => {\r\n      socket.on('videoSync', ({time}) => {\r\n        console.log(` time recieved by socket.on is ${time}`);\r\n        setTimer(time);\r\n        setIsset(true);\r\n      });\r\n    },[]);\r\n\r\n    if(isset)\r\n    {\r\n      console.log(`executed time is ${timer}`);\r\n      player.seekTo(timer);\r\n      player.playVideo();\r\n      setIsset(false);\r\n      //setTimer(0);\r\n    }\r\n\r\n    const onChange = (event) => {\r\n        setTempId(event.target.value);\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(\"submit hua\");\r\n        // parsing url\r\n        var video_id = tempId;\r\n        var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n        var match = video_id.match(regExp);\r\n        if (match&&match[7].length === 11){\r\n            video_id = match[7];\r\n        }\r\n        sendToAll(video_id);\r\n        setVideoId(video_id);\r\n      }\r\n    \r\n    const sendToAll = (video_id) =>{\r\n        console.log('it is executed');\r\n        socket.emit('linkChange' , {video_id});\r\n    }\r\n\r\n    const onStateChange = (event) =>\r\n      {\r\n        console.log(event.target.getCurrentTime());\r\n      }\r\n    const onPlayVideo = () => {\r\n        player.playVideo();\r\n      }\r\n    \r\n    const onPauseVideo = () => {\r\n        player.pauseVideo();\r\n      }\r\n\r\n    const onSyncVideo = () => {\r\n      const time = player.getCurrentTime();\r\n      player.playVideo();\r\n      console.log(`time emmited is ${time}`);\r\n      socket.emit('syncVideo' , {time: time});\r\n    }\r\n\r\n    // Chat functions\r\n    // send message\r\n    // reieve message\r\n    // InfoBar\r\n\r\n    useEffect(() => {\r\n      socket.on('message', message => {\r\n        setMessages(messages => [ ...messages, message ]);\r\n      });\r\n    },[]);\r\n\r\n    const sendMessage = (event) => {\r\n      event.preventDefault();\r\n  \r\n      if(message) {\r\n        socket.emit('sendMessage', message, () => setMessage(''));\r\n      }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <div className = 'overAllContainer'>\r\n\r\n        <Infobar name = {name} room = {room} />\r\n\r\n        <div>\r\n\r\n          <div className = 'formBlock'>\r\n          <form className ='form'>\r\n            <input className = 'urlInput' type = 'text' placeholder = 'Enter Url' onChange = {onChange}/>\r\n            <button className = 'urlSubmitButton' type = 'submit' onClick = {onSubmit}>Submit</button>\r\n          </form>\r\n          </div>\r\n\r\n          <div className = 'outerPlayer'>\r\n\r\n            <div className = 'onlyPlayer'>\r\n              <div className = 'player-container'>\r\n                <YouTube \r\n                className = 'player'\r\n                videoId={videoId} \r\n                onReady={onReady}\r\n                onStateChange={onStateChange}\r\n                />\r\n                </div>\r\n\r\n                <div className='Buttons'>\r\n\r\n                  <button className='playButton' type=\"button\" onClick={onPlayVideo}>\r\n                    Play\r\n                  </button>\r\n                  <button className='pauseButton' type=\"button\" onClick={onPauseVideo}>\r\n                    Pause\r\n                  </button>\r\n                  <button className='syncButton' type=\"button\" onClick={onSyncVideo}>\r\n                    Sync\r\n                  </button>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        <div className = 'onlineInfo'>\r\n          <Onlineinfo users = {roomUsers} />\r\n        </div>\r\n\r\n        <div className = 'chat'>\r\n          <Chat messages = {messages} message = {message} name = {name} setMessage = {setMessage} sendMessage = {sendMessage} />\r\n        </div>\r\n\r\n        </div>\r\n\r\n        </div>\r\n\r\n\r\n      </div>\r\n      );\r\n\r\n}\r\n\r\nexport default PlayerHook;\r\n","import React from 'react';\r\n\r\nimport './style/Infobar.css'\r\n\r\nconst Infobar = ({name , room}) => {\r\n    return(\r\n        <div className = 'InfobarOuter'>\r\n            <h2>Hi {name}!! welcome to {room} room</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Infobar;","import React from 'react';\r\n\r\nconst Onlineinfo = (users) => {\r\n    console.log(users);\r\n    console.log(typeof(users));\r\n    return(\r\n        <div className = 'OnlineinfoBox'>\r\n            <h3>Online</h3>\r\n           {users.users.map((user,i) => <div key = {i}> {user.name} </div>)}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Onlineinfo;","import React from 'react';\r\n\r\nimport './style/Inputbar.css';\r\n\r\nconst Inputbar = ({message , setMessage , sendMessage}) => {\r\n    return(\r\n      <div className='inputbar-container'>\r\n        <form className=\"form\">\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"Type a message...\"\r\n          value={message}\r\n          onChange={({ target: { value } }) => setMessage(value)}\r\n          onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n        />\r\n        <button className=\"sendButton\" onClick={e => sendMessage(e)}>Send</button>\r\n      </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Inputbar;","import React from 'react';\r\n\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nimport './style/Message.css';\r\n\r\n\r\nconst Message = ({ message: { text, user }, name }) => {\r\n  let isSentByCurrentUser = false;\r\n\r\n  const trimmedName = name.trim().toLowerCase();\r\n\r\n  if(user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  return (\r\n    isSentByCurrentUser\r\n      ? (\r\n        <div className=\"messageContainer justifyEnd\">\r\n          <p className=\"sentText pr-10\">{trimmedName}</p>\r\n          <div className=\"messageBox backgroundBlue\">\r\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n          </div>\r\n        </div>\r\n        )\r\n        : (\r\n          <div className=\"messageContainer justifyStart\">\r\n            <div className=\"messageBox backgroundLight\">\r\n              <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\r\n            </div>\r\n            <p className=\"sentText pl-10 \">{user}</p>\r\n          </div>\r\n        )\r\n  );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport Message from './Message';\r\nimport './style/Messages.css';\r\n\r\nconst Messages = ({messages , name}) => {\r\n    return(\r\n        <ScrollToBottom className=\"messages\">\r\n            {messages.map((message, i) => <div key={i}><Message message={message} name={name}/></div>)}\r\n        </ScrollToBottom>\r\n    );\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\n\r\nimport Inputbar from './Inputbar';\r\nimport Messages from './Messages';\r\n\r\nimport './style/Chat.css';\r\n\r\n// messages\r\n// Inputbar\r\n\r\nconst Chat = ({messages , message , name , setMessage , sendMessage}) => {\r\n    return(\r\n        <div className = 'outerContainer'>\r\n            <div className = 'container'>\r\n        <Messages messages = {messages} name = {name} />\r\n        <Inputbar message = {message} setMessage = {setMessage} sendMessage = {sendMessage} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;","import React from 'react';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Join from './component/Join'\r\nimport PlayerHook from './component/PlayerHook'\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Route path=\"/\" exact component={Join} />\r\n      <Route path=\"/chat\" component = {PlayerHook} />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App /> , document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}